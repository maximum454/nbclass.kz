/*
 * jQuery Form Validation Plugin for WYSIWYG Web Builder 9
 * Copyright Pablo Software solutions 2013
 * http://www.wysiwygwebbuilder.com/
 */

(function(b){function l(e,c){b(e).find(".bubbleContent").html(c)}function h(e,c,d){b(e).find(".bubbleContent").css("background-color",c);b(e).find(".bubbleArrow div").css("background-color",c);b(e).find(".bubbleArrow .line1").css("background-color",d);b(e).find(".bubbleArrow .line2").css("background-color",d);b(e).find(".bubbleContent").css("border-color",d);b(e).find(".bubbleArrow div").css("border-color",d);b(e).find(".bubbleArrow .line3").css("border-color",d)}function j(e,c,d){e="#"+b(e).attr("id")+
"_bubble";l(e,d);h(e,c.color_error,c.color_border);"slide"==c.effect?b(e).show("slide",{direction:"right"},500):"fade"==c.effect?b(e).fadeIn(500):b(e).show()}function m(e,c){var d="#"+b(e).attr("id")+"_bubble";"slide"==c.effect?b(d).hide("slide",{direction:"right"},500):"fade"==c.effect?b(d).fadeOut(500,function(){l(d,c.title_text);h(d,c.color_hint,c.color_border)}):(b(d).hide(),l(d,c.title_text),h(d,c.color_hint,c.color_border))}function k(e,c){var d=null;switch(c.type){case "alphanumeric":d=/\w*/;
break;case "number":d=/^[0-9-+]+$/;break;case "email":d=/^([a-z0-9\+_\-]+)(\.[a-z0-9\+_\-]+)*@([a-z0-9\-]+\.)+[a-z]{2,6}$/i;break;case "custom":d=c.param}pointer=b(e);if(!0==c.required||0!=pointer.val().length){var a=!0;d&&(a=d.test(pointer.val()));a&&(""!=c.length_min&&pointer.val().length<parseInt(c.length_min)&&(a=!1),a&&""!=c.length_max&&pointer.val().length>parseInt(c.length_max)&&(a=!1));if(a)if("number"==c.type&&(""!=c.value_min&&(a=eval(pointer.val()+c.expr_min+c.value_min)),a&&""!=c.value_max&&
(a=eval(pointer.val()+c.expr_max+c.value_max))),"checkbox"==c.type&&(a=b(e).is(":checked")),"radio"==c.type&&(d=b(e).attr("name"),b("input[name='"+d+"']:checked").val()||(a=!1)),"select"==c.type&&(d=b(e).prop("selectedIndex"),-1==d&&(a=!1),0==d&&!0==c.disallowfirstchoice&&(a=!1)),"ajax"==c.type&&(a=!1,d="value="+b(e).val(),b.ajax({type:"POST",async:!1,url:c.param,data:d,success:function(b){"true"==b&&(a=!0)}})),c.match_id)if(matchobj=b("#"+c.match_id),matchsettings=matchobj.data("settings"),""!=matchobj.val()&&
matchobj.val()!=pointer.val())j(e,c,c.match_text),j(matchobj,matchsettings,matchsettings.match_text);else return""!=matchobj.val()&&m(matchobj,matchsettings),!0;else return!1==a&&j(e,c,c.error_text),a;else return j(e,c,c.error_text),!1}else return!0}b.fn.validate=function(e){return this.each(function(){b.validate(this,e)})};b.validate=function(e,c){var d={title_text:"Please enter a value",error_text:"The entered value is invalid",color_text:"#00FF00",color_hint:"#00FF00",color_error:"#FF0000",color_border:"#808080",
opacity:1,effect:"fade",match_text:"Values must be identical",match_id:null,length_min:"",length_max:"",value_min:"",value_max:"",expr_min:"",expr_max:"",type:"text",required:!0,disallowfirstchoice:!1,nohint:!1,font_family:"Arial",font_size:"13px",font_weight:"normal",font_style:"normal",position:"topright",offsetx:0,offsety:0,bubble_class:"bubble",param:null};c&&(d=b.extend(d,c));d.title_text=b(e).attr("title");""==d.title_text&&(d.title_text="Enter a value");var a=b(e).attr("id"),f="#"+a+"_bubble",
a='<div id="'+a+'_bubble" class="'+d.bubble_class+'">',a=a+'<div class="bubbleContent">'+d.title_text+"</div>",a=a+'<div class="bubbleArrow"><div class="line10">\x3c!-- --\x3e</div>',a=a+'<div class="line9">\x3c!-- --\x3e</div>',a=a+'<div class="line8">\x3c!-- --\x3e</div>',a=a+'<div class="line7">\x3c!-- --\x3e</div>',a=a+'<div class="line6">\x3c!-- --\x3e</div>',a=a+'<div class="line5">\x3c!-- --\x3e</div>',a=a+'<div class="line4">\x3c!-- --\x3e</div>',a=a+'<div class="line3">\x3c!-- --\x3e</div>',
a=a+'<div class="line2">\x3c!-- --\x3e</div>',a=a+'<div class="line1">\x3c!-- --\x3e</div>',a=a+"</div>",a=a+"</div>";b("body").append(a);b(e).removeAttr("title");var a=b(e).offset().top,g=b(e).offset().left;"topright"==d.position&&(g+=b(e).width(),"bubble"==d.bubble_class&&(g-=27),a-=b(f).height(),a-=10);"topleft"==d.position&&(a-=b(f).height(),a-=10,"bubble"==d.bubble_class&&(g-=27));"centerright"==d.position&&(g+=b(e).width()+13);g+=d.offsetx;a+=d.offsety;b(f).css({top:a,left:g});b(f).css("opacity",
d.opacity);h(f,d.color_hint,d.color_border);b(f).find(".bubbleContent").css("color",d.color_text);b(f).find(".bubbleContent").css("font-family",d.font_family);b(f).find(".bubbleContent").css("font-size",d.font_size);b(f).find(".bubbleContent").css("font-weight",d.font_weight);b(f).find(".bubbleContent").css("font-style",d.font_style);b(f).hide();b.data(e,"settings",d);b(e).focus(function(){var a=d;if(!a.nohint){var c="#"+b(e).attr("id")+"_bubble";"slide"==a.effect?b(c).show("slide",{direction:"right"},
500):"fade"==a.effect?b(c).fadeIn(500):b(c).show()}}).blur(function(){var a=d;k(e,a)&&m(e,a)})};b.validate.form=function(e){var c=!0;b("input",e).each(function(){(settings=b.data(this,"settings"))&&!1==k(this,settings)&&(c=!1)});b("textarea",e).each(function(){(settings=b.data(this,"settings"))&&!1==k(this,settings)&&(c=!1)});b("select",e).each(function(){(settings=b.data(this,"settings"))&&!1==k(this,settings)&&(c=!1)});return c}})(jQuery);